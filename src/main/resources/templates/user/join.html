<!DOCTYPE html>
<html lang="en"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorator="~{layouts/layout}">

<th:block layout:fragment="css">
<style>
</style>
</th:block>

<th:block layout:fragment="script">
  <script>
    document.querySelector("#userForm").onsubmit = () => {
      var name = document.querySelector("#name");
      var svc_id = document.querySelector("#svc_id");
      var usr_id = document.querySelector("#usr_id");
      var email = document.querySelector("#email");
      var usr_pwd = document.querySelector("#usr_pwd");
      var confirm_pwd = document.querySelector("#confirm_pwd");
      var tel= document.querySelector("#tel");

      if (usr_pwd.value != confirm_pwd.value) {
        alert("비밀번호가 일치하지 않습니다.");
        return false;
      }

      if (name.value.length < 1 ||
          svc_id.value.length < 1 ||
          usr_id.value.length < 1 ||
          email.value.length < 1 ||
          usr_pwd.value.length < 1 ||
          confirm_pwd.value.length < 1 ||
          tel.value.length < 1) {
        alert("모든 항목을 입력해야 회원 가입이 가능합니다.");
        return false;
      }
    }
  </script>
</th:block>

<div layout:fragment="content">
  <div id="user">
    <form id="joinForm" th:action="@{join}" method='post'>
      <div style="text-align: center; padding: 50px 0px;">
        <p style="font-size: 20px; font-weight: bold;">
          마켓 꼬리 배송관리 시스템 회원가입</p>

        <div class="w-50 center" style="font-size: 12px;">

          <p class="danger" style="text-align:center; padding:10px; margin-bottom: 10px;">아이디, 이름은 추후 수정할 수 없습니다.</p>

          <div class="mb-3 row">
            <label for="name" class='form-label col-sm-2 col-form-label'>이름</label>
            <div class="col-sm-10">
              <input id="name" th:field="${user.name}" type='text' class="form-control" placeholder="Name">
            </div>
          </div>

          <div class="mb-3 row">
            <label for="svc_id" class='form-label col-sm-2 col-form-label'>기업 아이디</label>
            <div class="col-sm-10">
              <input id="svc_id" th:field="${user.svc_id}" type='text' class="form-control" placeholder="기업 ID">
            </div>
          </div>

          <div class="mb-3 row">
            <label for="usr_id" class='form-label col-sm-2 col-form-label'>로그인 아이디</label>
            <div class="col-sm-10">
              <input id="usr_id" th:field="${user.usr_id}" type='text' class="form-control" placeholder="로그인 ID">
            </div>
          </div>

          <div class="mb-3 row">
            <label for="usr_pwd" class='form-label col-sm-2 col-form-label'>비밀번호</label>
            <div class="col-sm-10">
              <input id="usr_pwd" th:field="${user.usr_pwd}" type='password' class="form-control" placeholder="Password">
            </div>
          </div>

          <div class="mb-3 row">
            <label for="confirm_pwd" class='form-label col-sm-2 col-form-label'>비밀번호 확인</label>
            <div class="col-sm-10">
              <input id="confirm_pwd" type='password' class="form-control" placeholder="Password">
            </div>
          </div>

          <div class="mb-3 row">
            <label for="email" class='form-label col-sm-2 col-form-label'>이메일</label>
            <div class="col-sm-10">
              <input id="email" th:field="${user.email}" type='email' class="form-control" placeholder="Email Address (eg. Team@fresh.com)">
            </div>
          </div>

          <div class="mb-3 row">
            <label for="tel" class='form-label col-sm-2 col-form-label'>전화번호</label>
            <div class="col-sm-10">
              <input id="tel" th:field="${user.tel}" type='tel' class="form-control" placeholder="Telephone No">
            </div>
          </div>
        </div>

        <input style="display: none;" type='text' class="form-control" name='admin_yn' value="n">
        <input style="display: none;" type='text' class="form-control" name='use_yn' value="y">
        <input style="display: none;" type='text' class="form-control" name='block_yn' value="n">

        <div style="margin-top:10px; margin-bottom: 10px;">
          <button type="submit" class="btn btn-primary btn-lg">회원 가입</button>
          <a href="/user/join" class="btn btn-secondary btn-lg">취소</a>
        </div>
      </div>
    </form>
  </div>
</div>
</html>